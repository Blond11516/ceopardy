{% extends "base.html" %}
{% block title %}Game Board{% endblock %}

{% block style %}
<style>
    
</style>
{% endblock %}

{% block content %}
<div class="container-host">

    <div class="container-top container-all container-light" style="display: flex;">
        {% block main %}
            Welcome back game master!
        {% endblock %}
    </div>
    
    <div class="container-footer flex-border container-light">
    
        <div class="container-arrow container-dark">
            <!--Up Arrow-->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 50" preserveAspectRatio="none">
                <polygon points="0,50 50,0 100,50 50,25 0,50"/>
            </svg>
        </div>
        <div style="display: flex; width: 100%">
            <div class="container-footer-control">
                <div style="width: 50%;">
                    {% for _r in range(1, QUESTIONS_PER_CATEGORY + 1) %}
                        <div class="row-ceopardy flex-vertical-pad" style="height: {{ height }}%;">
                            {% for _c in range(1, CATEGORIES_PER_GAME + 1) %}
                                <div class="col-ceopardy flex-horizontal-pad">
                                    <div id="c{{ _c }}q{{ _r }}" class="box-ceopardy box-question" role="button" style="color: white;">${{ _r * 100 }}</div>
                                </div>
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>
                <div style="width: 50%;">
                    <button id="roulette" type="button">Roulette!</button>
                </div>
            </div>

            <div class="container-bottom container-light">
                <p>bottom</p>
            </div>
            <div class="container-separator-v container-dark"></div>
            <div class="container-footer-control">
                <iframe class="iframe-viewer" src="/"></iframe>
            </div>
        </div>
    
    
    
    
    
    </div>
    
    <!--<div class="container-arrow container-all container-light">
        <img id="up" src="/static/images/up.svg">
        <img id="down" src="/static/images/down.svg" style="display: none;">
    </div>
    
    <div class="container-bottom container-all container-light" style="display: flex;">
    
    <div class="container-arrow">
        <a href="#carouselExampleControls" role="button" data-slide="next">
            <img id="left" src="/static/images/left.svg">
        </a>
    </div>
    
    <div id="carouselExampleControls" class="carousel slide" style="flex: 1;">
        <div class="carousel-inner" role="listbox">
        <div class="carousel-item active">
        <img class="d-block img-fluid" src="..." alt="First slide">
        </div>
        <div class="carousel-item">
        <img class="d-block img-fluid" src="..." alt="Second slide">
        </div>
        <div class="carousel-item">
        <img class="d-block img-fluid" src="..." alt="Third slide">
        </div>
        </div>
    </div>
    
    <div class="container-arrow">
        <a href="#carouselExampleControls" role="button" data-slide="prev">
            <img id="left" src="/static/images/right.svg">
        </a>
    </div>
    </div>-->

</div>
{% endblock %}

{% block ui %}
    <script>
        
        var socket = io.connect('http://' + document.domain + ':' + location.port + '/host');
        
        socket.on('connect', function() {
            //socket.emit('my event', {data: 'I\'m connected!'});
        });
        
        socket.on('test', function(data) {
            alert(data);
        });
        
        $(document).ready(function() {
            $(".box-ceopardy").on("click", function() {
                var id = $(this).attr('id');
                if ($(this).hasClass("box-selected")) {
                    $(this).removeClass("box-selected");
                    $(this).addClass("box-completed");
                    socket.emit('unclick', {id: id});
                }
                else {
                    $(".box-selected").addClass("box-completed");
                    $(".box-selected").removeClass("box-selected");
                    $(this).removeClass("box-completed");
                    $(this).addClass("box-selected");
                    socket.emit('click', {id: id});
                }
            });
            
            $("#roulette").on("click", function() {
                socket.emit('roulette');
                /*$.post("/api/roulette", function(data) {
                    if (data.result != "ok") {
                        alert(data.result);
                    }
                    else {
                        
                    }
                });*/
            });
            
            $('.container-footer').click(function() {
                if($('.container-footer').hasClass('slide-up')) {
                    $('.container-footer').removeClass('slide-up'); 
                }
                else {
                    $('.container-footer').addClass('slide-up');
                }
            });
        });
        
        
    </script>
{% endblock %}
